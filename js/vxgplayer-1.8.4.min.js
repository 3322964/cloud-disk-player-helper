window.vxgplayer=function(e,o){if(window.vxgplayer.version="1.8.4",window.vxgplayer.players=window.vxgplayer.players||{},!document.getElementById(e))return console.error(" Player with "+e+" did not found"),void 0;if(!window.vxgplayer.players[e]){if("undefined"==typeof chrome)return vxgplayer.showAvailableInChrome(e),void 0;if(!vxgplayer.browserSupportsPluginPnacl()){console.log("Not installed vxg_media_player"),vxgplayer.showNotInstalled(e);var l=window.RequestFileSystem||window.webkitRequestFileSystem;return l&&l(window.TEMPORARY,100,function(){},function(){vxgplayer.showNotInstalledInIncognitoMode(e)}),void 0}var l=window.RequestFileSystem||window.webkitRequestFileSystem;l?l(window.TEMPORARY,1,function(){vxgplayer.isFrame()||(window.location.href="http://www.videoexpertsgroup.com/player_start/")},function(){console.log("Not installed vxg_media_player")}):window.location.href="http://www.videoexpertsgroup.com/player_start/","https:"==window.location.protocol||vxgplayer.isFrame()||vxgplayer.checkWebSocket().done(function(){}).fail(function(){l(window.TEMPORARY,1,function(){vxgplayer.showWebSocketFailed(e)},function(){vxgplayer.showNotStartedInIncognitoMode(e)})}),"https:"!=window.location.protocol&&vxgplayer.isFrame()&&vxgplayer.checkWebSocket().done(function(){}).fail(function(){vxgplayer.showNotStartedInIFrame(e)}),window.vxgplayer.players[e]=new function(e,o){var l=this;l.id=e,l.player=document.getElementById(e),o=o||{};var t="media_player.nmf",a="pnacl/Release/media_player.nmf",r="";l.playerWidth=o.width||640,l.playerHeight=o.height||480,t=l.player.getAttribute("nmf-path")||o.nmf_path||t,a=l.player.getAttribute("nmf-src")||o.nmf_src||a,r=l.player.getAttribute("url")||o.url||"",l.playerWidth=parseInt(l.player.getAttribute("width"),10)||l.playerWidth,l.playerHeight=parseInt(l.player.getAttribute("height"),10)||l.playerHeight,l.player.style.width=l.playerWidth+"px",l.player.style.height=l.playerHeight+"px";var n=l.player.hasAttribute("autostart")?"1":"0",d=l.player.hasAttribute("audio")&&0==parseInt(l.player.getAttribute("audio",10))?"0":"1",s=l.player.hasAttribute("mute")&&1==parseInt(l.player.getAttribute("mute",10))?"1":"0",i='<div class="vxgplayer-loader" style="display: inline-block"></div><div class="vxgplayer-error" style="display: none">	<div class="vxgplayer-error-text" style="display: none"></div></div><div class="vxgplayer-controls">	<div class="vxgplayer-volume-mute"></div>	<div class="vxgplayer-volume-down"></div>	<div class="vxgplayer-volume-progress vol7"></div>	<div class="vxgplayer-volume-up"></div>	<div class="vxgplayer-play"></div>	<div class="vxgplayer-stop" style="display: none"></div>	<div class="vxgplayer-fullscreen"></div></div><embed class="vxgplayer-module" autostart_parameter="'+n+'"mute_parameter="'+s+'"audio_parameter="'+d+'" name="nacl_module" id="'+e+'_nacl_module" path="'+t+'" src="'+a+'" url="'+r+'" type="application/x-pnacl">';l.player.innerHTML=i;var u=l.player.getElementsByClassName("vxgplayer-controls")[0],m=l.player.getElementsByClassName("vxgplayer-play")[0],c=l.player.getElementsByClassName("vxgplayer-stop")[0],p=l.player.getElementsByClassName("vxgplayer-volume-mute")[0],y=l.player.getElementsByClassName("vxgplayer-volume-down")[0],v=l.player.getElementsByClassName("vxgplayer-volume-progress")[0],g=l.player.getElementsByClassName("vxgplayer-volume-up")[0],h=l.player.getElementsByClassName("vxgplayer-fullscreen")[0],w=l.player.getElementsByClassName("vxgplayer-loader")[0],b=l.player.getElementsByClassName("vxgplayer-error")[0],f=l.player.getElementsByClassName("vxgplayer-error-text")[0];document.getElementById(e+"_btnstart"),l.module=document.getElementById(e+"_nacl_module"),l.module.command=function(){for(var o=[],t=0;arguments.length>t;t++)o.push(arguments[t]);(e!=l.id||l.id+"_nacl_module"!=l.module.id)&&console.error("Mixed player id"),l.module.debug&&console.log("Player: "+l.id+" cmd=["+o.join("] ")),l.module.postMessage(o)},l.module.offsetTop,l.module.versionapp="unknown",l.module.url=r||"",l.module.debug=l.player.hasAttribute("debug"),l.module.autostart=l.player.hasAttribute("autostart"),l.module.is_opened=!1,l.module.latency=1e4,l.module.controls=!0,l.module.avsync=o.avsync||!1,l.module.volume=o.volume||.7,l.module.vxgReadyState=0,l.module.autohide=o.autohide||2e3,l.module.lastErrorCode=-1,l.module.autoreconnect=o.autoreconnect||0,l.options=o,l.module.debug&&console.log("Player "+l.id+" - init new player"),l.player.hasAttribute("controls")||(l.module.controls=!1,u.style.display="none"),o.controls&&1==o.controls&&(l.module.controls=!0,u.style.display=""),l.module.avsync=l.player.hasAttribute("avsync"),l.module.aspectRatio=l.player.hasAttribute("aspect-ratio")||l.player.hasAttribute("aspect-ratio-mode")?1:0,l.player.hasAttribute("volume")?(l.module.volume=parseFloat(l.player.getAttribute("volume")),l.module.volume=Math.ceil(10*l.module.volume)/10):o.volume&&console.warn("TODO volume"),l.module.mute=o.mute||0==l.module.volume||"1"==s,l.module.mute&&(y.style.display="none",v.style.display="none",g.style.display="none"),l.player.hasAttribute("autohide")?l.module.autohide=1e3*parseInt(l.player.getAttribute("autohide"),10):o.autohide&&(l.module.autohide=1e3*o.autohide),l.timeout=void 0,v.className=v.className.replace(/vol\d+/g,"vol"+Math.ceil(10*l.module.volume)),l.loadSettings=function(){l.module.debug&&console.log("Player "+l.id+" - loadSettings"),l.player.hasAttribute("useragent-prefix")?l.module.command("setuseragent",l.player.getAttribute("useragent-prefix")+" "+navigator.userAgent):o.useragent_prefix&&l.module.command("setuseragent",l.options.useragent_prefix+" "+navigator.userAgent),l.module.command("setversion",window.vxgplayer.version),(l.player.hasAttribute("auto-reconnect")||l.options.autoreconnect)&&(l.module.autoreconnect=1,l.module.command("setautoreconnect","1")),l.module.avsync=l.player.hasAttribute("avsync"),l.module.aspectRatio=l.player.hasAttribute("aspect-ratio")||l.player.hasAttribute("aspect-ratio-mode")?1:0,l.player.hasAttribute("aspect-ratio-mode")?l.module.aspectRatio=parseInt(l.player.getAttribute("aspect-ratio-mode"),10):l.options.aspect_ratio_mode&&(l.module.aspectRatio=l.options.aspect_ratio_mode),l.module.aspectRatioMode=0!=l.module.aspectRatio?l.module.aspectRatio:1,l.module.command("setaspectratio",""+l.module.aspectRatio),l.module.command("setavsync",l.module.avsync?"1":"0"),l.player.hasAttribute("latency")?(l.module.latency=parseInt(l.player.getAttribute("latency"),10),l.module.command("setlatency",""+l.module.latency)):l.options.latency&&(l.module.latency=l.options.latency,l.module.command("setlatency",""+l.module.latency)),l.player.hasAttribute("volume")?(l.module.volume=parseFloat(l.player.getAttribute("volume")),l.module.volume=Math.ceil(10*l.module.volume)/10,l.module.command("setvolume",l.module.volume.toFixed(1))):l.options.volume&&console.warn("TODO volume"),l.module.mute=l.options.mute||0==l.module.volume,l.module.mute&&(y.style.display="none",v.style.display="none",g.style.display="none"),l.player.hasAttribute("autohide")?l.module.autohide=1e3*parseInt(l.player.getAttribute("autohide"),10):l.options.autohide&&(l.module.autohide=1e3*l.options.autohide)},l.moduleDidLoad=function(){l.module.debug&&console.log("Player "+l.id+" - moduleDidLoad"),l.loadSettings(),"https:"==window.location.protocol?l.connectToApp():l.module.command("startwebsclient",vxgplayer.webserverport)},l.playerDidLoad=function(){l.module.debug&&console.log("Player "+l.id+" - playerDidLoad"),w.style.display="none",l.onReadyStateCallback?(l.module.is_opened=!1,l.onReadyStateCallback()):l.src(l.module.url)},l.connectToApp=function(){l.module.debug&&console.log("Player "+l.id+" connectToApp"),l.module.port=chrome.runtime.connect("hncknjnnbahamgpjoafdebabmoamcnni"),l.module.debug&&console.log("Player "+l.id+" connected port="+l.module.port),l.module.port.name=""+(new Date).getTime(),l.module.port.onDisconnect.addListener(function(){l.module.debug&&console.log("disconnected port.name="+l.module.port.name),l.module.command("stopnativeclient","@"+l.module.port.name),l.module.port=void 0}),l.module.debug&&console.log("connected port.name="+l.module.port.name),l.module.port.onMessage.addListener(function(e){void 0!=e&&void 0==e.id&&"@"==e[0].charAt(0)?l.module.postMessage(e):void 0!=e&&"getversionapp"==e.cmd?0==e.data.indexOf("VERSION_APP")?(l.module.versionapp=e.data.split(" ")[1],l.module.debug&&console.log("Player "+l.id+" =VERSION_APP "+l.module.versionapp),l.module.command("setappversion",l.module.versionapp),l.module.command("startnativeclient","@"+l.module.port.name),l.playerDidLoad()):console.log("Player "+l.id+" Invalid VERSION_APP msg.data="+e.data):console.log("Player "+l.id+"getversionapp unknown msg="+e)}),l.module.port.postMessage({id:""+l.module.port.name,cmd:"getversionapp",data:""})},l.showerror=function(e){w.style.display="none",b.style.display="inline-block",f.style.display="inline-block",f.innerHTML=e},l.hideerror=function(){b.style.display="none",f.style.display="none"},l.readyState=function(){return l.module.vxgReadyState},l.onReadyStateChange=function(e){l.onReadyStateCallback=e},l.ready=l.onReadyStateChange,l.onStateChange=function(e){l.onStateChangeCallback=e},l.onBandwidthError=function(e){l.module.handlerBandwidthError=e},l.onError=function(e){l.module.handlerError=e},l.handleMessage=function(e){l.module.debug&&console.log("Player "+l.id+" handleMessage: "+e.data),void 0!=e&&void 0!=e.data&&("@"==e.data[0].charAt(0)?void 0!=l.module.port&&l.module.port.postMessage(e.data):"PLAYER_INITED"==e.data?l.moduleDidLoad():0==e.data.indexOf("VERSION_APP")?(l.module.versionapp=e.data.split(" ")[1],l.module.debug&&console.log("=VERSION_APP "+l.module.versionapp),l.playerDidLoad()):"MEDIA_ERR_URL"==e.data?(l.showerror("Problem with URL"),l.module.lastErrorCode=0,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_NETWORK"==e.data?(l.showerror("Problem with network"),l.module.lastErrorCode=1,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_SOURCE"==e.data?(l.showerror("Problem with source"),l.module.lastErrorCode=2,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_CARRIER"==e.data?(l.showerror("Problem with carrier"),l.module.lastErrorCode=3,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_AUDIO"==e.data?(l.showerror("Problem with audio"),l.module.lastErrorCode=4,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_VIDEO"==e.data?(l.showerror("Problem with video"),l.module.lastErrorCode=5,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_AUTHENTICATION"==e.data?(l.showerror("Problem with authentification"),l.module.lastErrorCode=6,l.module.handlerError&&l.module.handlerError(l)):"MEDIA_ERR_BANDWIDTH"==e.data?(l.stop(),l.module.lastErrorCode=7,l.module.handlerError&&l.module.handlerError(l),l.module.handlerBandwidthError&&l.module.handlerBandwidthError(l)):"MEDIA_ERR_EOF"==e.data?(l.showerror("End of File"),l.module.lastErrorCode=8,l.module.handlerError&&l.module.handlerError(l)):"PLAYER_CONNECTING"==e.data?(l.module.vxgReadyState=1,w.style.display="inline-block",l.onStateChangeCallback&&l.onStateChangeCallback(l.module.vxgReadyState)):"PLAYER_PLAYING"==e.data?(l.module.vxgReadyState=2,m.style.display="none",c.style.display="inline-block",l.hideerror(),w.style.display="none",l.onStateChangeCallback&&l.onStateChangeCallback(l.module.vxgReadyState)):"PLAYER_STOPPING"==e.data?(l.module.vxgReadyState=3,m.style.display="none",c.style.display="none"):"PLAYER_STOPPED"==e.data&&(l.module.vxgReadyState=0,m.style.display="inline-block",c.style.display="none",l.onStateChangeCallback&&l.onStateChangeCallback(l.module.vxgReadyState)))},l.handleError=function(){w.style.display="none",b.style.display="block",console.error("ERROR"),l.showerror("Unknown error")},l.handleCrash=function(){w.style.display="none",b.style.display="block",l.showerror("Crashed")},l.restartTimeout=function(){return 0>=l.module.autohide?(u.style.opacity="0",void 0):(u.style.opacity="0.7",clearTimeout(l.timeout),l.timeout=setTimeout(function(){u.style.opacity="0"},l.module.autohide),void 0)},l.player.addEventListener("mousemove",function(){l.restartTimeout()},!0),l.restartTimeout(),l.module.addEventListener("message",l.handleMessage,!0),l.module.addEventListener("error",l.handleError,!0),l.module.addEventListener("crash",l.handleCrash,!0),window.attachListeners!==void 0&&window.attachListeners(),l.error=function(){return l.module.lastErrorCode},l.controls=function(e){return void 0==e?l.module.controls:(1==e?(u.style.display="",l.module.controls=!0):0==e&&(u.style.display="none",l.module.controls=!1),void 0)},l.debug=function(e){return void 0==e?l.module.debug:(l.module.debug=e,void 0)},l.play=function(){return l.hideerror(),l.module.debug&&console.log("self.play self.module.url="+l.module.url+" self.module.is_opened="+l.module.is_opened),1>l.module.url.length?(console.log("invalid url"),void 0):(l.module.is_opened||(l.module.is_opened=!0,l.module.command("open",l.module.url)),m.style.display="none",w.style.display="inline-block",l.module.command("play","0"),l.module.command("setvolume",l.module.volume.toFixed(1)),void 0)},l.stop=function(){l.module.command("stop","0"),w.style.display="none"},l.pause=function(){l.module.command("pause","0"),w.style.display="none"},l.autohide=function(e){return e?(l.module.autohide=1e3*e,void 0):l.module.autohide/1e3},l.autoreconnect=function(e){return void 0==e?l.module.autoreconnect:(l.module.autoreconnect=parseInt(e,10),l.module.command("setautoreconnect",""+l.module.autoreconnect),void 0)},l.latency=function(e){return e?(l.module.latency=parseInt(e,10),l.module.command("setlatency",""+e),void 0):l.module.latency},l.aspectRatio=function(e){return void 0==e?l.module.aspectRatio?!0:!1:(l.module.aspectRatio=e?l.module.aspectRatioMode:0,l.module.command("setaspectratio",""+l.module.aspectRatio),void 0)},l.aspectRatioMode=function(e){return void 0==e?l.module.aspectRatioMode:(l.module.aspectRatioMode=e>0?e:l.module.aspectRatioMode,l.module.aspectRatio=e,l.module.command("setaspectratio",""+l.module.aspectRatio),void 0)},l.avsync=function(e){return void 0==e?l.module.avsync:(l.module.avsync=e,l.module.command("setavsync",l.module.avsync?"1":"0"),void 0)},l.isMute=function(){return l.module.mute},l.isPlaying=function(){return 2==l.module.vxgReadyState},l.versionPLG=function(){return window.vxgplayer.version},l.versionAPP=function(){return l.module.versionapp},l.mute=function(){l.restartTimeout(),l.module.mute=!l.module.mute,l.module.mute?(y.style.display="none",v.style.display="none",g.style.display="none",v.className=v.className.replace(/vol\d+/g,"vol0")):(y.style.display="inline-block",v.style.display="inline-block",g.style.display="inline-block",v.className=v.className.replace(/vol\d+/g,"vol"+Math.floor(10*l.module.volume))),l.module.command("setvolume",l.module.mute?"0":""+l.module.volume)},l.volume=function(e){return void 0==e?l.module.volume:(e=e>1?1:e,e=0>e?0:e,l.module.volume=Math.ceil(10*e)/10,l.module.command("setvolume",l.module.volume.toFixed(1)),v.className=v.className.replace(/vol\d+/g,"vol"+Math.ceil(10*l.module.volume)),void 0)},l.volup=function(){l.restartTimeout(),10>Math.round(10*l.module.volume)&&(l.module.volume=l.module.volume+.1,l.module.command("setvolume",l.module.volume.toFixed(1)),v.className=v.className.replace(/vol\d+/g,"vol"+Math.ceil(10*l.module.volume)))},l.voldown=function(){l.restartTimeout(),Math.round(10*l.module.volume)>0&&(l.module.volume=l.module.volume-.1,l.module.command("setvolume",l.module.volume.toFixed(1)),v.className=v.className.replace(/vol\d+/g,"vol"+Math.floor(10*l.module.volume)))},l.size=function(e,o){if(!e||!o)return{width:l.playerWidth,height:l.playerHeight};if(Number.isInteger(e)&&Number.isInteger(o)){var t=parseInt(e,10),a=parseInt(o,10);l.playerWidth=l.playerWidth!=t?t:l.playerWidth,l.playerHeight=l.playerHeight!=a?a:l.playerHeight,l.player.style.width=e+"px",l.player.style.height=o+"px"}else l.player.style.width=e,l.player.style.height=o},l.changedFullscreen=function(){console.log("changedFullscreen"),document.webkitIsFullScreen?(l.size("100%","100%"),console.log("changedFullscreen -> fullscreen")):(l.size(l.playerWidth+"px",l.playerHeight+"px"),console.log("changedFullscreen -> NOT fullscreen"))},document.addEventListener&&(document.addEventListener("webkitfullscreenchange",l.changedFullscreen,!1),document.addEventListener("mozfullscreenchange",l.changedFullscreen,!1),document.addEventListener("fullscreenchange",l.changedFullscreen,!1),document.addEventListener("MSFullscreenChange",l.changedFullscreen,!1)),l.fullscreen=function(){console.log("fullscreen: clicked"),1==document.webkitIsFullScreen?document.webkitCancelFullScreen():l.player.requestFullscreen?l.player.requestFullscreen():l.player.webkitRequestFullscreen?l.player.webkitRequestFullscreen():l.player.mozRequestFullscreen&&l.player.mozRequestFullScreen()},l.src=function(e){return void 0==e?l.module.url:(l.module.url=e,console.log("Player "+l.id+" src="+l.module.url+" autostart="+l.module.autostart+" is_opened="+l.module.is_opened),l.module.url.length>0&&l.module.autostart?(l.module.is_opened=!0,l.module.command("open",e)):(l.module.is_opened=!1,l.stop()),void 0)},l.dispose=function(){l.player.innerHTML="",delete window.vxgplayer.players[l.id]},m.onclick=l.play,c.onclick=l.stop,h.onclick=l.fullscreen,p.onclick=l.mute,y.onclick=l.voldown,g.onclick=l.volup}(e,o)}return window.vxgplayer.players[e]},window.vxgplayer.webserverport="8778",window.vxgplayer.isFrame=function(){try{return window.self!==window.top}catch(e){return!0}},window.vxgplayer.browserSupportsPluginPnacl=function(){return void 0!==navigator.mimeTypes["application/x-pnacl"]&&void 0!==navigator.mimeTypes["application/vxg_media_player"]},window.vxgplayer.showGlobalErrorMessage=function(e,o){var l=document.getElementById(e),t=640,a=480;return t=parseInt(l.width,10)||t,a=parseInt(l.height,10)||a,l.style.width=t+"px",l.style.height=a+"px",l.innerHTML=o,void 0},window.vxgplayer.showNotInstalled=function(e){vxgplayer.showGlobalErrorMessage(e,'<div class="vxgplayer-unsupport">	<div class="vxgplayer-unsupport-content">	<a href="http://www.videoexpertsgroup.com/player_start/" '+(vxgplayer.isFrame()?'target="_blank"':"")+">Click here for install plugin</a>"+'	<br/><br/> or visit in webstore <a href="https://chrome.google.com/webstore/detail/vxg-media-player/hncknjnnbahamgpjoafdebabmoamcnni" target="_blank">VXG Media Player</a>'+"	</div>"+"</div>")},window.vxgplayer.showAvailableInChrome=function(e){vxgplayer.showGlobalErrorMessage(e,'<div class="vxgplayer-unsupport">	<div class="vxgplayer-unsupport-content"> Available in <a href="https://www.google.com/chrome/" target="_blank">Chrome</a>	</div></div>')},window.vxgplayer.showWebSocketFailed=function(e){vxgplayer.showGlobalErrorMessage(e,'<div class="vxgplayer-unsupport">	<div class="vxgplayer-unsupport-content"> Could not connect to plugin (WebSocket Error). Please try restart your browser.	</div> </div>')},window.vxgplayer.showNotInstalledInIncognitoMode=function(e){vxgplayer.showGlobalErrorMessage(e,'<div class="vxgplayer-unsupport">	<div class="vxgplayer-unsupport-content"> You have opened this page in incognito mode. Please open it in a regular tab, install the plugin and then come back.	<br/><br/> Also you can install <a href="https://chrome.google.com/webstore/detail/vxg-media-player/hncknjnnbahamgpjoafdebabmoamcnni" target="_blank">VXG Media Player</a> from webstore in regular tab.	</div></div>')},window.vxgplayer.showNotStartedInIncognitoMode=function(e){vxgplayer.showGlobalErrorMessage(e,'<div class="vxgplayer-unsupport">	<div class="vxgplayer-unsupport-content"> You have opened this page in incognito mode. Please open it in a regular tab and then come back.	</div></div>')},window.vxgplayer.startPlayerInNewTab=function(){console.log("start player");var e="menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes",o=window.open("http://www.videoexpertsgroup.com/player_start/","_blank",e);setTimeout(function(){o.close(),location.reload()},1e3)},window.vxgplayer.showNotStartedInIFrame=function(e){vxgplayer.showGlobalErrorMessage(e,'<div class="vxgplayer-unsupport">	<div class="vxgplayer-unsupport-content"> You have opened this page in frame.<br> Please click on <a href="javascript:void(0);" onclick="window.vxgplayer.startPlayerInNewTab();">this link</a> for start Chrome App (VXG Media Player).	</div></div>')},window.vxgplayer.Promise=function(){this.done=function(e){return this.done_callback=e,this.completed&&this.done_callback(this.err),this},this.fail=function(e){return this.fail_callback=e,this.completed&&this.fail_callback(this.err),this},this.resolve=function(e){this.completed||(this.result=e,this.done_callback(e)),this.completed=!0},this.reject=function(e){this.completed||(this.err=e,this.fail_callback(e)),this.completed=!0}},window.vxgplayer.checkWebSocket=function(){var e=new vxgplayer.Promise;return setTimeout(function(){var o=new WebSocket("ws://127.0.0.1:"+vxgplayer.webserverport+"/");o.onerror=function(){e.reject()},o.onmessage=function(e){console.log(e)},o.onopen=function(){o.close(),e.resolve()}},2e3),e},document.addEventListener("DOMContentLoaded",function(){console.log("vxgplayer isFrame: "+window.vxgplayer.isFrame()),console.log("vxgplayer browserSupportsPluginPnacl: "+window.vxgplayer.browserSupportsPluginPnacl());for(var e=document.getElementsByClassName("vxgplayer"),o=0;e.length>o;o++)e[o].id?vxgplayer(e[o].id):console.error("Player has not id",e[o])});